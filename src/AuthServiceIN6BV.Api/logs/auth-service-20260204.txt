[2026-02-04 16:28:35 INF] Checking database connection... {"SourceContext":"Program"}
[2026-02-04 16:28:35 INF] Database ready. Running seed data... {"SourceContext":"Program"}
[2026-02-04 16:29:10 INF] Checking database connection... {"SourceContext":"Program"}
[2026-02-04 16:29:11 INF] Database ready. Running seed data... {"SourceContext":"Program"}
[2026-02-04 16:29:11 INF] Database initialization completed successfully {"SourceContext":"Program"}
[2026-02-04 16:29:11 INF] AuthService API is running at http://localhost:5102. Health endpoint: http://localhost:5102/health {"SourceContext":"Program"}
[2026-02-04 16:31:28 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ47KHM1OO9:00000001","RequestPath":"/","ConnectionId":"0HNJ47KHM1OO9"}
[2026-02-04 16:31:28 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ47KHM1OO9:00000001","RequestPath":"/","ConnectionId":"0HNJ47KHM1OO9"}
[2026-02-04 16:31:28 INF] HTTP GET / responded 404 in 35.2017 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ47KHM1OO9:00000001","ConnectionId":"0HNJ47KHM1OO9"}
[2026-02-04 16:31:29 INF] HTTP GET / responded 404 in 0.8543 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ47KHM1OO9:00000002","ConnectionId":"0HNJ47KHM1OO9"}
[2026-02-04 16:49:58 INF] Checking database connection... {"SourceContext":"Program"}
[2026-02-04 16:50:02 ERR] An error occurred while initializing the database {"SourceContext":"Program"}
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5433
 ---> System.Net.Sockets.SocketException (10061): No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\AuthService_jz\src\AuthServiceIN6BV.Api\Program.cs:line 138
[2026-02-04 16:51:31 INF] Checking database connection... {"SourceContext":"Program"}
[2026-02-04 16:51:31 INF] Database ready. Running seed data... {"SourceContext":"Program"}
[2026-02-04 16:51:31 INF] Database initialization completed successfully {"SourceContext":"Program"}
[2026-02-04 16:51:31 INF] AuthService API is running at http://localhost:5102. Health endpoint: http://localhost:5102/health {"SourceContext":"Program"}
[2026-02-04 16:52:40 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ480CM0G1U:00000001","RequestPath":"/swaagger/index.html","ConnectionId":"0HNJ480CM0G1U"}
[2026-02-04 16:52:40 WRN] Failed to determine the https port for redirect. {"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNJ480CM0G1U:00000001","RequestPath":"/swaagger/index.html","ConnectionId":"0HNJ480CM0G1U"}
[2026-02-04 16:52:40 INF] HTTP GET /swaagger/index.html responded 404 in 33.3713 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ480CM0G1U:00000001","ConnectionId":"0HNJ480CM0G1U"}
[2026-02-04 16:53:16 INF] HTTP PUT /api/v1/Users/1/role responded 401 in 13.5260 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ480CM0G1V:00000003","ConnectionId":"0HNJ480CM0G1V"}
